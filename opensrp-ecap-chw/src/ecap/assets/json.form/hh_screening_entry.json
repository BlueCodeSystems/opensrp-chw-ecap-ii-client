{
  "count": 3,
  "skip_blank_steps": true,
  "encounter_type": "Household Screening",
  "entity_id": "",
  "show_errors_on_submit": true,
  "metadata": {
    "start": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "start",
      "openmrs_entity_id": "163137AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "end": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "end",
      "openmrs_entity_id": "163138AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "today": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "encounter",
      "openmrs_entity_id": "encounter_date"
    },
    "deviceid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "deviceid",
      "openmrs_entity_id": "163149AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "subscriberid": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "subscriberid",
      "openmrs_entity_id": "163150AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "simserial": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "simserial",
      "openmrs_entity_id": "163151AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "phonenumber": {
      "openmrs_entity_parent": "",
      "openmrs_entity": "concept",
      "openmrs_data_type": "phonenumber",
      "openmrs_entity_id": "163152AAAAAAAAAAAAAAAAAAAAAAAAAAAAAA"
    },
    "encounter_location": "",
    "look_up": {
      "entity_id": "",
      "value": ""
    }
  },
  "step1": {
    "title": "Household Screening",
    "next": "step3",
    "fields": [
      {
        "key": "instructions",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "instructions",
        "type": "toaster_notes",
        "text": "HOUSEHOLD SCREENING",
        "text_color": "#000000",
        "label_text_style": "bold",
        "toaster_info_text": "The Household Screening Form will be used to assess the index VCA Sub Population and his/her household to identify other household members who should be enrolled into the OVC Comprehensive program.\n\n The data collected on this tool are used to ensure that the criteria set for enrolling other household members is followed and that it is consistent to ensure other household members are enrolled based on set program criteria. The data will form the basis for enrolling other household members into the program and providing family-centered services.",
        "toaster_info_title": "Introduction",
        "toaster_type": "info"
      },
      {
        "key": "spacer",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "1",
        "type": "spacer",
        "spacer_height": "15dp"
      },
      {
        "key": "hd1",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hd1",
        "type": "label",
        "text": "Index VCA Sub Population Screening"
      },
      {
        "key": "household_id",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "household_id",
        "type": "edit_text",
        "read_only": "true",
        "hint": "Household ID",
        "edit_type": "name",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "unique_id",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "unique_id",
        "type": "edit_text",
        "hint": "VCA ID",
        "edit_type": "name",
        "read_only": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "first_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "first_name",
        "type": "edit_text",
        "hint": "VCA First Name",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z]*",
          "err": "First name of VCA only accepts letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "last_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person",
        "openmrs_entity_id": "last_name",
        "type": "edit_text",
        "hint": "VCA Last Name",
        "edit_type": "name",
        "value": "",
        "v_regex": {
          "value": "[A-Za-z]*",
          "err": "Last name of VCA only accepts letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "adolescent_birthdate",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "adolescent_birthdate",
        "type": "date_picker",
        "hint": "VCA Date of birth",
        "look_up": "true",
        "expanded": false,
        "duration": {
          "label": "Age"
        },
        "min_date": "today-19y",
        "max_date": "today",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "gender",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "gender",
        "type": "native_radio",
        "label": "VCA Gender",
        "options": [
          {
            "key": "male",
            "text": "Male"
          },
          {
            "key": "female",
            "text": "Female"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "sub_population",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "sub_population",
        "type": "check_box",
        "label": "Sub Population:",
        "options": [
          {
            "key": "subpop1",
            "text": "C/ALHIV"
          },
          {
            "key": "subpop2",
            "text": "HEI"
          },
          {
            "key": "subpop3",
            "text": "Children of WLHIV"
          },
          {
            "key": "subpop4",
            "text": "AGYW"
          },
          {
            "key": "subpop5",
            "text": "Children of FSW"
          },
          {
            "key": "subpop6",
            "text": "Survivor of Sexual Violence"
          },
          {
            "key": "none",
            "text": "None"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "facility",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "health_facility",
        "type": "edit_text",
        "hint": "Health Facility",
        "value": "Choma General Hospital",
        "read_only": "true",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "province",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_address",
        "openmrs_entity_id": "stateProvince",
        "type": "edit_text",
        "hint": "Province",
        "value": "Southern",
        "read_only": "true",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "district",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "countyDistrict",
        "type": "edit_text",
        "hint": "District",
        "value": "Choma",
        "read_only": "true",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "ward",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_address",
        "openmrs_entity_id": "subTown",
        "type": "edit_text",
        "hint": "Ward",
        "value": "Choma Central",
        "read_only": "true",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "partners",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "partners",
        "type": "edit_text",
        "hint": "Partners",
        "value": "ZEC",
        "read_only": "true",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "spacer",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "1",
        "type": "spacer",
        "spacer_height": "15dp"
      },
      {
        "key": "hd2",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hd1",
        "type": "label",
        "text": "          Household Information",
        "label_text_style": "bold"
      },
      {
        "key": "info",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "In the Address field below, you can put the Plot Number, Village or Street.",
        "toaster_info_text": "",
        "toaster_type": "info"
      },
      {
        "key": "village",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "village",
        "type": "edit_text",
        "hint": "Address",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "screening_date",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "screening_date",
        "type": "date_picker",
        "hint": "Date of screening",
        "look_up": "true",
        "expanded": false,
        "min_date": "01-01-1900",
        "max_date": "today",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "screening_location",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "screening_location",
        "type": "edit_text",
        "hint": "Screening Location",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Screening location  only take letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "spacer",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "1",
        "type": "spacer",
        "spacer_height": "15dp"
      },
      {
        "key": "primary_caregivers_only",
        "type": "label",
        "text": "          For Primary Caregivers Only",
        "label_text_style": "bold"
      },
      {
        "key": "caregiver_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_name",
        "type": "edit_text",
        "hint": "Caregiver's Full Name",
        "look_up": "true",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Name of caregiver can only contain letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "caregiver_sex",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_sex",
        "type": "native_radio",
        "label": "Caregiver's Gender",
        "options": [
          {
            "key": "male",
            "text": "Male"
          },
          {
            "key": "female",
            "text": "Female"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "caregiver_birth_date",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_birth_date",
        "type": "date_picker",
        "hint": "Caregiver's Date of Birth",
        "look_up": "true",
        "expanded": false,
        "duration": {
          "label": "Age"
        },
        "min_date": "today-100y",
        "max_date": "today",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "info",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "In the Address field below, you can put the Plot Number, Village or Street of the Caregiver.",
        "toaster_info_text": "",
        "toaster_type": "info"
      },
      {
        "key": "adolescent_village",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "adolescent_village",
        "type": "edit_text",
        "hint": "Caregiver's Address",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "caregiver_phone",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_phone",
        "type": "edit_text",
        "hint": "Caregiver's Phone Number",
        "edit_type": "number",
        "v_numeric": {
          "value": false,
          "err": "Number must begin with 077,076,095, 096, or 097 and must be a total of 10 digits in length"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "v_regex": {
          "value": "((07||09)[5-7][0-9]{7})|s*",
          "err": "Number must begin with 077,076,095, 096, or 097 and must be a total of 10 digits in length"
        }
      },
      {
        "key": "spacer",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "1",
        "type": "spacer",
        "spacer_height": "15dp"
      },
      {
        "key": "violence_six_months",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "violence_six_months",
        "type": "native_radio",
        "label": "Have you experienced violence in the home in the last six months?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "children_violence_six_months",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "children_violence_six_months",
        "type": "native_radio",
        "label": "Have the children experienced violence in the home in the last six months?? ",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "caregiver_hiv_status",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_hiv_status",
        "type": "native_radio",
        "label": "Caregiver's HIV Status",
        "read_only":"true",
        "options": [
          {
            "key": "HIV+",
            "text": "HIV+"
          },
          {
            "key": "HIV-",
            "text": "HIV-"
          },
          {
            "key": "Unknown",
            "text": "Unknown"
          },
          {
            "key": "not_required",
            "text": "Status not required based on risk assessment"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "active_on_treatment",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "active_on_treatment",
        "type": "native_radio",
        "label": "Is the primary Caregiver on ART?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "hiv_appropriate_treatment",
        "type": "label",
        "label_text_style": "bold",
        "text": "Refer to appropriate treatment and care services as part of enrollment",
        "text_color": "#d20000",
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "caregiver_art_number",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_art_number",
        "type": "edit_text",
        "hint": "Caregiver`s ART Number",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "v_regex": {
          "value": "([0-9]{4}-[0-9]{5}-[0-9]{6}-[0-9]{1})|\\s*",
          "err": "ART should be in the format of XXXX-XXXXX-XXXXXX-X"
        }
      },
      {
        "key": "is_caregiver_virally_suppressed",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "is_caregiver_virally_suppressed",
        "type": "native_radio",
        "label": "Is the caregiver`s virally suppressed?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "hiv_appropriate_treatment_virally_suppressed",
        "type": "label",
        "label_text_style": "bold",
        "text": "Refer to appropriate treatment and care services as part of enrollment",
        "text_color": "#d20000",
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "viral_load_results",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "viral_load_results",
        "type": "edit_text",
        "hint": "Result of most recent viral load test.",
        "v_numeric": {
          "value": "true",
          "err": "Viral load can only contain numbers"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "v_regex": {
          "value": "([0-9]{1}||[0-9]{2}||[0-9]{3})|\\s*",
          "err": "Viral load cannot be 1000 or above"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "date_of_last_viral_load",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "date_of_last_viral_load",
        "type": "date_picker",
        "hint": "Date of last viral load test",
        "label_info_title": "Date of last viral load test",
        "expanded": false,
        "min_date": "today-100y",
        "max_date": "today",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "biological_children",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "biological_children",
        "type": "native_radio",
        "label": "Do you have biological children 0-2 years?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "enrolled_pmtct",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "enrolled_pmtct",
        "type": "native_radio",
        "label": "Are you and your biological children enrolled in the PMTCT program?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "at_risk_reasons",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "at_risk_reasons",
        "type": "native_radio",
        "label": "Are there any reasons you may be at risk for HIV?)",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "step1:caregiver_hiv_status": {
            "type": "string",
            "ex": "equalTo(., \"HIV-\")"
          }
        }
      },
      {
        "key": "reason_for_hiv_risk",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "reason_for_hiv_risk",
        "type": "edit_text",
        "hint": "State reason for HIV Risk",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Please enter a valid  test name"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "step1:at_risk_reasons": {
            "type": "string",
            "ex": "equalTo(., \"yes\")"
          }
        }
      },
      {
        "key": "reason_for_hiv_risk_service",
        "type": "label",
        "label_text_style": "bold",
        "text": "Provide appropriate preventive services as part of enrollment",
        "text_color": "#d20000",
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "instructions",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "instructions",
        "type": "toaster_notes",
        "text": "Food, Social and Economic Security",
        "text_color": "#000000",
        "label_text_style": "bold",
        "toaster_info_text": "For example: Able to provide 3 meals per day/ all school-going children enrolled in school; lowest level of education is secondary school; single-headed household; child-headed household; main material of the floor is not earth/sand; Has source of income through stable employment or is engaged in farming/livestock farming etc.",
        "toaster_info_title": "Example",
        "toaster_type": "info"
      },
      {
        "key": "secure",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "secure",
        "type": "native_radio",
        "toaster_info_text": "For example: Able to provide 3 meals per day/ all school-going children enrolled in school; lowest level of education is secondary school; single-headed household; child-headed household; main material of the floor is not earth/sand; Has source of income through stable employment or is engaged in farming/livestock farming etc.",
        "toaster_info_title": "Example",
        "toaster_type": "",
        "label": "Is your household food, socially and economically secure?",
        "options": [
          {
            "key": "yes",
            "text": "Yes"
          },
          {
            "key": "no",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "economic_service",
        "type": "label",
        "label_text_style": "bold",
        "text": "Refer to appropriate household economic strengthening program/Government Social Protection program at enrollment",
        "text_color": "#d20000",
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        }
      },
      {
        "key": "carried_by",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "carried_by",
        "type": "edit_text",
        "hint": "Carried out by",
        "read_only": "true",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Name of Person can  only contain letters"
        }
      },
      {
        "key": "approved_family",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "approved_family",
        "type": "native_radio",
        "label": "THIS FAMILY IS APPROVED FOR ENROLLMENT",
        "options": [
          {
            "key": "Yes",
            "text": "Yes"
          },
          {
            "key": "No",
            "text": "No"
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "approved_by",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "approved_by",
        "type": "edit_text",
        "hint": "Approved By",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Name of Person can  only contain letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "step1:approved_family": {
            "type": "string",
            "ex": "equalTo(., \"Yes\")"
          }
        }
      },
      {
        "key": "date_approved",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "date_approved",
        "type": "date_picker",
        "hint": "Date of screening",
        "look_up": "true",
        "expanded": false,
        "min_date": "01-01-1900",
        "max_date": "today",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      }
    ]
  },
  "step2": {
    "title": "Sub Populations",
    "next": "step3",
    "fields": [
      {
        "key": "subpop1",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop1",
        "read_only": "true",
        "type": "edit_text",
        "value": "true",
        "hint": "Children/Adolescents Living with HIV (C/ALHIV)",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "subpop2",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop2",
        "read_only": "true",
        "type": "edit_text",
        "value": "true",
        "hint": "HIV Exposed Infant (HEI)",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "subpop3",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop3",
        "hint": "Children of Women Living with HIV (WLHIV)",
        "read_only": "true",
        "type": "edit_text",
        "value": "true",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "subpop4",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop4",
        "hint": "At Risk Adolescent Girls and Young Women (AGYW)",
        "read_only": "true",
        "type": "edit_text",
        "value": "true",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "subpop5",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop5",
        "read_only": "true",
        "hint": "Children/Adolescents who are Survivors of Sexual Violence",
        "type": "edit_text",
        "value": "true",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "subpop6",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "subpop6",
        "read_only": "true",
        "hint": "Children/Adolescents whose Primary Caregivers are HIV FSWs",
        "type": "edit_text",
        "value": "true",
        "edit_type": "name",
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "hh_screening_relevance.yml"
            }
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "screened",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "screened",
        "read_only": "true",
        "value": "true",
        "type": "edit_text",
        "hint": "Is Screened",
        "edit_type": "name",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "index_check_box",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "index_check_box",
        "type": "edit_text",
        "value": "yes",
        "read_only": "true",
        "hint": "Was child identified through Index?",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Ward only takes letters"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      }
    ]
  },
  "step3":{
    "title":"Household Enrollment",
    "fields":[
      {
        "key": "hd1",
        "openmrs_entity_parent": "",
        "openmrs_entity": "concept",
        "openmrs_entity_id": "hd1",
        "text_color": "#000000",
        "label_text_style": "bold",
        "type": "label",
        "text": "Household Details"
      },
      {
        "key": "enrollment_date",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "enrollment_date",
        "type": "date_picker",
        "hint": "Date of HH Enrollment",
        "look_up": "true",
        "expanded": false,
        "duration": {
          "label": ""
        },
        "min_date": "01-01-1900",
        "max_date": "today",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "entry_type",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "entry_type",
        "type": "native_radio",
        "label": "Type of Entry into Program",
        "label_text_style": "bold",
        "text_color": "#000000",
        "exclusive": [
          "Yes"
        ],
        "options": [
          {
            "key": "transfer_from_zamfam",
            "text": "Transfer from ZAMFAM",
            "value": false
          },
          {
            "key": "referral_from_facility",
            "text": "Referral from Facility",
            "value": false
          },
          {
            "key": "other",
            "text": "Other",
            "value": false
          }
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "other_entry_type",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "other_entry_type",
        "type": "edit_text",
        "hint": "Other type of Entry",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Please enter a valid  entry type"
        },
        "relevance": {
          "step3:entry_type": {
            "type": "string",
            "ex": "equalTo(., \"other\")"
          }
        },
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "caregiver_education",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "caregiver_education",
        "type": "native_radio",
        "label": "Caregiver’s education level",
        "label_text_style": "bold",
        "text_color": "#000000",
        "exclusive": [
          "Yes"
        ],
        "options": [
          {
            "key": "none",
            "text": "None",
            "value": false
          },
          {
            "key": "highest_grade",
            "text": "Highest grade",
            "value": false
          },
          {
            "key": "college_university",
            "text": "College/University",
            "value": false
          }
        ],
        "v_required": {
          "value": true,
          "err": "You`re to select the level of education"
        }
      },
      {
        "key": "highest_grade",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "highest_grade",
        "type": "edit_text",
        "hint": "Highest Grade",
        "edit_type": "number",
        "v_regex": {
          "value": "[0-9]*",
          "err": "Please enter a valid number"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "step3:caregiver_education": {
            "type": "string",
            "ex": "equalTo(., \"highest_grade\")"
          }
        }
      },
      {
        "key": "monthly_expenses",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "monthly_expenses",
        "type": "native_radio",
        "label": "Estimated household expenses per month",
        "label_text_style": "bold",
        "text_color": "#000000",
        "exclusive": [
          "Yes"
        ],
        "options": [
          {
            "key": "Less than K500",
            "text": "Less than K500",
            "value": false
          },
          {
            "key": "K500 -K999",
            "text": "K500 -K999",
            "value": false
          },
          {
            "key": "K1,000 –K1,999",
            "text": "K1,000 –K1,999",
            "value": false
          },
          {
            "key": "K2,000 –K4,999",
            "text": "K2,000 –K4,999",
            "value": false
          },
          {
            "key": "Greater than K5,000",
            "text": "Greater than K5,000",
            "value": false
          }
        ],
        "v_required": {
          "value": true,
          "err": "You`re required to select income source"
        }
      },
      {
        "key": "marital_status",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "marital_status",
        "type": "spinner",
        "hint": "Marital Status",
        "values": [
          "Single",
          "Married",
          "Divorced",
          "Widowed",
          "Not Married,in a Relationship"
        ],
        "keys": [
          "single",
          "married",
          "divorced",
          "widowed",
          "in_relationship"
        ],
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "marriage_partner_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "marriage_partner_name",
        "type": "edit_text",
        "hint": "Name of Partner/Spouse",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Please enter a valid  Partner/Spouse Name"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "family_register_relevance.yml"
            }
          }
        }
      },
      {
        "key": "relationship_partner_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "relationship_partner_name",
        "type": "edit_text",
        "hint": "Name of Relationship Partner",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Please enter a valid  Relationship Partner Name"
        },
        "v_required": {
          "value": true,
          "err": "Required"
        },
        "relevance": {
          "rules-engine": {
            "ex-rules": {
              "rules-file": "family_register_relevance.yml"
            }
          }
        }
      },
      {
        "key": "fam_source_income",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "fam_source_income",
        "type": "edit_text",
        "hint": "Main Source Of Income",
        "edit_type": "name",
        "v_regex": {
          "value": "[A-Za-z\\s\\.\\-]*",
          "err": "Please enter Correct Source Of Income"
        }
      },
      {
        "key": "pregnant_women",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "pregnant_women",
        "type": "edit_text",
        "hint": "No. of Women currently pregnant in household",
        "edit_type": "number",
        "v_required": {
          "value": true,
          "err": "Required"
        }
      },
      {
        "key": "malaria_prev_label",
        "type": "label",
        "label_text_style": "bold",
        "text": "Malaria Prevention",
        "text_color": "#000000",
        "v_required": {
          "value": true
        }
      },
      {
        "key": "beds",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "beds",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "edit_text": "number",
        "hint": "Number of beds in household",
        "tree": [
        ],
        "v_required": {
          "value": true,
          "err": "Number of beds in household"
        }
      },
      {
        "key": "malaria_itns",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "malaria_itns",
        "openmrs_data_type": "text",
        "type": "edit_text",
        "edit_text": "number",
        "hint": "Number of malaria ITNs in use",
        "tree": [
        ],
        "v_required": {
          "value": true,
          "err": "Number of ITNs  in use"
        }
      },
      {
        "key": "household_member_had_malaria",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "household_member_had_malaria",
        "type": "date_picker",
        "hint": "Last time household member had malaria",
        "expanded": false,
        "duration": {
          "label": ""
        },
        "min_date": "today-100y",
        "max_date": "today",
        "v_required": {
          "value": false,
          "err": "Last time household member had malaria"
        }
      },

      {
        "key": "emergency_contact",
        "type": "label",
        "label_text_style": "bold",
        "text": "Emergency Contact",
        "text_color": "#000000"
      },
      {
        "key": "emergency_name",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "emergency_name",
        "type": "edit_text",
        "hint": "Emergency Contact Name ",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "This field is required"
        }
      },
      {
        "key": "e_relationship",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "e_relationship",
        "type": "edit_text",
        "hint": "Relationship to caregiver ",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "This field is required"
        }
      },
      {
        "key": "info",
        "openmrs_entity_parent": "",
        "openmrs_entity": "",
        "openmrs_entity_id": "",
        "type": "toaster_notes",
        "text": "In the Contact Address field below, you can put the Plot Number, Village or Street.",
        "toaster_info_text": "",
        "toaster_type": "info"
      },

      {
        "key": "contact_address",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "contact_address",
        "type": "edit_text",
        "hint": "Contact Address ",
        "edit_type": "name",
        "look_up": "true",
        "v_required": {
          "value": true,
          "err": "This field is required"
        }
      },

      {
        "key": "contact_number",
        "openmrs_entity_parent": "",
        "openmrs_entity": "person_attribute",
        "openmrs_entity_id": "contact_number",
        "type": "edit_text",
        "hint": "Contact Phone Number ",
        "edit_type": "name",
        "look_up": "true",
        "v_numeric": {
          "value": false,
          "err": "Number must begin with 077,076,095, 096, or 097 and must be a total of 10 digits in length"
        },
        "v_regex": {
          "value": "((07||09)[5-7][0-9]{7})|s*",
          "err": "Number must begin with 077,076,095, 096, or 097 and must be a total of 10 digits in length"
        }
      }
    ]
  }
}